{% extends "base.html" %}
{% block content %}

    <header>
        <div class="container-fluid dark-pattern-bg">
            <div class="row">
                <div class="col-lg-4">
                    <img src="../static/images/logo-transparent.png" alt="Cook House Logo">
                    <h1 class="page-title">Update Event</h1>
                </div>
            </div>
        </div>
    </header>
    <!-- Edit Event Section -->
    <section>
        <div class="container-fluid light-pattern-bg align-items-center">
            <div class="row">
                <div class="col-lg-8 text-center center mt-5 event-intro">
                    <h2 class="edit-event-title">Update Supper Club</h2>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6 col-md-8 col-sm-12 center">
                    <form method="POST" action="{{ url_for('edit_event', event_id=event._id) }}">
                        <div class="cancel-container">
                            <a href="{{ url_for('profile', username=session['user']) }}">
                                <div class="leftright"></div>
                                <div class="rightleft"></div>
                                <label class="cancel-label">Cancel</label>
                            </a>
                        </div>
                        <legend class="text-center">Event</legend>
                        <div class="mb-1 mt-5">
                            <label for="event_name" class="form-label"></label>
                            <input type="text" value="{{ event.event_name }}" class="form-control" id="event_name" name="event_name" placeholder="Event Name" required>
                        </div>      
                        <div class="mb-1">
                            <label for="location" class="form-label"></label>
                            <input type="text" value="{{ event.location }}" class="form-control" id="location" name="location" placeholder="Location" required>
                        </div>
                        <div class="mb-4">
                            <label for="category_name" class="form-label"></label>
                            <select class="form-select" aria-label="Cuisine select options" id="category_name" name="category_name" required>
                                <option>Cuisine</option>
                                {% for category in categories %}
                                    {% if category.category_name == event.category_name %}
                                        <option value="{{ category.category_name }}" selected>{{ category.category_name }}</option>
                                    {% else %}
                                        <option value="{{ category.category_name }}">{{ category.category_name }}</option>
                                    {% endif %}
                                {% endfor %}
                            </select>
                            <label for="date" class="form-label"></label>
                            <input type="date" value="{{ event.date }}" class="form-control" id="date" name="date" required>
                        </div>  
                        <div class="mb-1">
                            <h3 class="text-center event-form-menu-title">Menu</h3>
                            <label for="starter" class="form-label"></label>
                            <input type="text" value="{{ event.starter }}" class="form-control" id="starter" name="starter" placeholder="Starter">
                        </div>
                        <div class="mb-1">
                            <label for="main" class="form-label"></label>
                            <input type="text" value="{{ event.main }}" class="form-control" id="main" placeholder="Main" name="main" required>
                        </div>
                        <div class="mb-4">
                            <label for="dessert" class="form-label"></label>
                            <input type="text" value="{{ event.dessert }}" class="form-control" id="dessert" placeholder="Dessert" name="dessert">
                        </div>
                        <div class="mb-4 text-center event-message">
                            <label for="extras" class="form-label event-message-title">Extras</label>
                            <textarea type="text" class="form-control" id="extras" name="extras" placeholder="Let your guests know about those extra little details..." rows="5">
                                {{- event.extras -}}
                            </textarea>
                        </div>
                        <div class="mb-4 text-center">
                            <label for="counter" class="form-label" hidden></label>
                            <input type="number" id="counter" name="counter" value="{{ event.counter }}" hidden>
                            <button type="submit" class="button button--alt">Update Event</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>
    <!-- End of Edit Event Section -->

{% endblock %}